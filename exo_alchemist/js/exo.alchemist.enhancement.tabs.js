function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);i=i.call(e,t||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}((n,s)=>{var o=(()=>_createClass(function e(t,i){var o=this,t=(_classCallCheck(this,e),this.id="",this.idSelector="",this.history=!1,this.$wrapper=i,this.id=t,this.idSelector='data-ee--tabs-id="'+this.id+'"',this.$triggers=i.find(".ee--tabs-trigger["+this.idSelector+"]"),this.$contents=i.find(".ee--tabs-content["+this.idSelector+"]"),this.history=void 0!==i.data("ee--accordion-history"),this.$contents.hide(),this.$triggers.first());s.Exo.$window.on("popstate.exo.alchemist.enhancement.tabs."+this.id,function(e){var t=s.ExoAlchemistEnhancement.getHashForKey("ee--tabs");t&&void 0!==t[o.id]?(t=o.$triggers.filter('[data-ee--tab-id="'+t[o.id]+'"]')).length&&o.show(t.first(),!1):o.show(o.$triggers.first(),!1)}),this.isLayoutBuilder()?(s.ExoAlchemistAdmin.lockNestedFields(this.$triggers),s.Exo.$document.on("exoComponentFieldEditActive.exo.alchemist.enhancement.tabs",function(e,t){var i=(t=n(t)).closest(".ee--tabs-content");i.length&&(i=i.data("ee--tab-id"),i=o.$triggers.filter('[data-ee--tab-id="'+i+'"]'),o.show(i,o.history),s.ExoAlchemistAdmin.sizeFieldOverlay(t),s.ExoAlchemistAdmin.sizeTarget(t))})):(i=s.ExoAlchemistEnhancement.getHashForKey("ee--tabs"))&&void 0!==i[this.id]&&(i=this.$triggers.filter('[data-ee--tab-id="'+i[this.id]+'"]')).length&&(t=i.first()),this.show(t,!1),this.$triggers.on("click.exo.alchemist.enhancement.tabs",function(e){e.preventDefault(),o.show(n(e.currentTarget),o.history)}).on("keydown.exo.alchemist.enhancement.accordion",function(e){var t;switch(e.which){case 13:case 32:e.preventDefault(),e.stopPropagation(),o.show(n(e.currentTarget),o.history);break;case 40:e.preventDefault(),e.stopPropagation(),(t=n(e.currentTarget).next()).length&&(o.show(t,o.history),t.focus());break;case 38:e.preventDefault(),e.stopPropagation(),(t=n(e.currentTarget).prev()).length&&(o.show(t,o.history),t.focus())}})},[{key:"show",value:function(e,t){var i,o=e.data("ee--tab-id");t=!1!==t,e.hasClass("active")||(this.$triggers.removeClass("active"),e.addClass("active"),this.$contents.removeClass("active").hide(),(i=this.$contents.filter('[data-ee--tab-id="'+o+'"]')).addClass("active").show(),s.Exo.$window.trigger("ee--tab.open",{trigger:e,content:i}),s.Exo.checkElementPosition(),this.isLayoutBuilder()?(s.ExoAlchemistAdmin.lockNestedFields(this.$triggers),s.ExoAlchemistAdmin.unlockNestedFields(e)):t&&s.ExoAlchemistEnhancement.setHashForKey("ee--tabs",o,this.id))}},{key:"buildTabHash",value:function(e){return"ee--tab-"+this.id+"--"+e}},{key:"extractTabIdFromHash",value:function(e){return e.replace("ee--tab-","").split("--")[1]}},{key:"unload",value:function(){s.Exo.$document.off("exoComponentFieldEditActive.exo.alchemist.enhancement.tabs."+this.id),s.Exo.$window.off("popstate.exo.alchemist.enhancement.tabs."+this.id)}},{key:"isLayoutBuilder",value:function(){return s.ExoAlchemistAdmin&&s.ExoAlchemistAdmin.isLayoutBuilder()}}]))();s.behaviors.exoAlchemistEnhancementTabs={count:0,instances:{},attach:function(e){var i=this;n(".ee--tabs-wrapper",e).once("exo.alchemist.enhancement").each(function(){var e=n(this),t=e.data("ee--tabs-id");e.data("ee--tabs-count",i.count),i.instances[t+i.count]=new o(t,e),i.count++})},detach:function(e,t,i){var o;"unload"===i&&(o=this,n(".ee--tabs-wrapper",e).each(function(){var e=n(this),e=e.data("ee--tabs-id")+e.data("ee--tabs-count");void 0!==o.instances[e]&&(o.instances[e].unload(),delete o.instances[e])}))}}})(jQuery,Drupal);