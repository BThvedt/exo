"use strict";!function(r,l){l.behaviors.exoAlchemistAdminChoose={attach:function(e){r(".exo-component-choose",e).once("exo.alchemist.choose").each(function(e,o){var a=r(o),o=a.find(".exo-component-selection"),c=window.Shuffle,i=new c(o[0],{itemSelector:".exo-component-select"});o.data("Shuffle",i),a.find(".exo-component-filter").on("click",function(e){a.find(".exo-component-categories").toggleClass("active")}),void 0!==l.ExoModal?l.ExoModal.event("opened").on("exo.alchemist",function(e){a.imagesLoaded(function(){i.update()})}):a.imagesLoaded(function(){i.update()}),a.closest(".exo-modal").on("fullscreen",function(e){i.update()}),a.find(".exo-component-search").on("keyup",function(e){var t=r(e.target).val().toString().toLowerCase();i.filter(function(e,o){if(o.group!==c.ALL_ITEMS&&!(-1!==JSON.parse(e.getAttribute("data-groups")).indexOf(o.group)))return!1;return-1!==e.querySelector(".exo-component-label").textContent.toLowerCase().trim().indexOf(t)})}),a.find(".exo-component-category-button").on("click",function(e){e.preventDefault();var e=r(e.currentTarget),o=e.text(),t=e.hasClass("active"),n=e.data("group");a.find(".exo-component-category-button.active").removeClass("active"),t=t?(e.removeClass("active"),o=l.t("All"),c.ALL_ITEMS):(e.addClass("active"),n),i.filter(t),a.find(".exo-component-filter").text(o),a.find(".exo-component-categories").toggleClass("active")})})},detach:function(e,o,t){"unload"===t&&(l.Exo.$window.off("exo-modal:onOpened.alchemist"),r(".exo-component-selection",e).each(function(e,o){o=r(o).data("Shuffle");o&&o.destroy()}))}}}(jQuery,(_,Drupal));