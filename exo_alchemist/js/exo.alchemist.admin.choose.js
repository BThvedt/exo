"use strict";!function(s,e,f){f.behaviors.exoAlchemistAdminChoose={attach:function(e){s(".exo-component-choose",e).once("exo.alchemist.choose").each(function(e,o){var i=s(o),t=i.find(".exo-component-selection"),r=window.Shuffle,l=new r(t[0],{itemSelector:".exo-component-select"});t.data("Shuffle",l),i.find(".exo-component-filter").on("click",function(e){i.find(".exo-component-categories").toggleClass("active")}),void 0!==f.ExoModal?f.ExoModal.event("opened").on("exo.alchemist",function(e){i.imagesLoaded(function(){l.update()})}):i.imagesLoaded(function(){l.update()}),i.closest(".exo-modal").on("fullscreen",function(e){l.update()}),i.find(".exo-component-search").on("keyup",function(e){var t=s(e.target).val().toString().toLowerCase();l.filter(function(e,o){if(o.group!==r.ALL_ITEMS&&!(-1!==JSON.parse(e.getAttribute("data-groups")).indexOf(o.group)))return!1;return-1!==e.querySelector(".exo-component-label").textContent.toLowerCase().trim().indexOf(t)})}),i.find(".exo-component-category-button").on("click",function(e){e.preventDefault();var o,t=s(e.currentTarget),n=t.text(),a=t.hasClass("active"),c=t.data("group");i.find(".exo-component-category-button.active").removeClass("active"),o=a?(t.removeClass("active"),n=f.t("All"),r.ALL_ITEMS):(t.addClass("active"),c),l.filter(o),i.find(".exo-component-filter").text(n),i.find(".exo-component-categories").toggleClass("active")})})},detach:function(e,o,t){"unload"===t&&(f.Exo.$window.off("exo-modal:onOpened.alchemist"),s(".exo-component-selection",e).each(function(e,o){var t=s(o).data("Shuffle");t&&t.destroy()}))}}}(jQuery,_,Drupal);