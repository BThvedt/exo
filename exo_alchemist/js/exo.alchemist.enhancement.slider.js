function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);i=i.call(e,t||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}((u,h,f)=>{var n=(()=>_createClass(function e(t,i){var n=this,o=(_classCallCheck(this,e),this.id="",this.$wrapper=i,this.id=t,i.find(".swiper-pagination")),r=i.find(".swiper-button-next"),s=i.find(".swiper-button-prev"),a=i.find(".swiper-scrollbar"),l=i.find(".swiper-autoplay-time"),c=i.find(".swiper-autoplay-bar"),d=this.isLayoutBuilder(),p={pagination:{},navigation:{},scrollbar:{},thumbs:{},autoplay:!1,on:{init:function(){u(document).trigger("exoComponentSliderInit")},afterInit:function(e){"ee-SliderHeightFirst"in e.el.dataset&&(e.el.style.height=e.slides[0].offsetHeight+"px"),setTimeout(function(){n.$wrapper.trigger("exoComponentSliderAfterInit",n.swiper)})},beforeResize:function(e){"ee-SliderHeightFirst"in e.el.dataset&&(e.el.style.height=null)},resize:function(e){"ee-SliderHeightFirst"in e.el.dataset&&(e.el.style.height=e.slides[0].offsetHeight+"px")}}},o=(o.length&&(p.pagination.el=o.get(0)),r.length&&(p.navigation.nextEl=r.get(0)),s.length&&(p.navigation.prevEl=s.get(0)),a.length&&(p.scrollbar.el=a.get(0)),(l.length||c.length)&&(p.autoplay={},p.autoplay.delay=4e3,p.autoplay.disableOnInteraction=!1,p.on.autoplayStop=function(e){l.hide(),c.parent().hide()},p.on.autoplayTimeLeft=function(e,t,i){l.length&&(l[0].style.setProperty("--progress",String(1-i)),l[0].textContent="".concat(Math.ceil(t/1e3),"s")),c.length&&(t=Math.min(100,Math.max(0,100-Math.round(100*i))),c.css("width",t+"%"))}),u.extend(!0,{},p,this.$wrapper.data("ee--slider-settings")||{})),r=i.closest(".exo-component").find('.ee--slider-nav[data-ee--slider-id="'+t+'"]');r.length&&(s=u.extend(!0,{},{spaceBetween:10,slidesPerView:r.find(".swiper-slide").length,freeMode:!0,watchSlidesProgress:!0},r.data("ee--slider-settings")||{}),a=new f(r.get(0),s),o.thumbs.swiper=a),this.swiper=new f(this.$wrapper.get(0),o),void 0!==h.behaviors.exoImagine&&this.swiper.on("slideChange",function(){h.behaviors.exoImagine.render(n.$wrapper)}),d&&this.buildForLayoutBuilder()},[{key:"buildForLayoutBuilder",value:function(){var n=this;this.swiper.params.autoplay.enabled&&(u(document).on("exoComponentActive.exo.alchemist.enhancement.slider."+this.id,function(e,t){h.ExoAlchemistAdmin.getActiveComponent().find(n.$wrapper).length&&n.swiper.autoplay.pause()}),u(document).on("exoComponentInactive.exo.alchemist.enhancement.slider."+this.id,function(e,t){h.ExoAlchemistAdmin.getActiveComponent().find(n.$wrapper).length&&n.swiper.autoplay.resume()})),u(document).on("exoComponentOps.exo.alchemist.enhancement.slider."+this.id,function(e,t){h.ExoAlchemistAdmin.getActiveComponent().find(n.$wrapper).length&&((t=u(t)).find(".exo-field-op-rotator-prev").off("click").on("click",function(e){e.preventDefault(),h.ExoAlchemistAdmin.setFieldInactive(),n.swiper.slidePrev()}),t.find(".exo-field-op-rotator-next").off("click").on("click",function(e){e.preventDefault(),h.ExoAlchemistAdmin.setFieldInactive(),n.swiper.slideNext()}))}),u(document).on("exoComponentFieldEditActive.exo.alchemist.enhancement.slider."+this.id,function(e,t){var i=u(t);n.$wrapper.find(i).length&&!i.hasClass("swiper-slide-active")&&(n.swiper.slideTo(i.index()),h.ExoAlchemistAdmin.lockTargetPointerEvents(),h.ExoAlchemistAdmin.setFieldInactive(),n.swiper.once("slideChangeTransitionEnd",function(e){i=u(e.clickedSlide),h.ExoAlchemistAdmin.unlockTargetPointerEvents(),h.ExoAlchemistAdmin.setFieldActive(i)}))})}},{key:"unload",value:function(){u(document).off("exoComponentOps.exo.alchemist.enhancement.slider."+this.id),u(document).off("exoComponentFieldEditActive.exo.alchemist.enhancement.slider."+this.id),this.swiper.destroy()}},{key:"isLayoutBuilder",value:function(){return h.ExoAlchemistAdmin&&h.ExoAlchemistAdmin.isLayoutBuilder()}}]))();h.behaviors.exoAlchemistEnhancementSlider={count:0,instances:{},attach:function(e){var i=this;u(".ee--slider-wrapper",e).once("exo.alchemist.enhancement").each(function(){var e=u(this),t=e.data("ee--slider-id");e.data("ee--slider-count",i.count),i.instances[t+i.count]=new n(t,e),i.count++})},detach:function(e,t,i){var n;"unload"===i&&(n=this,u(".ee--slider-wrapper",e).each(function(){var e=u(this),e=e.data("ee--slider-id")+e.data("ee--slider-count");void 0!==n.instances[e]&&(n.instances[e].unload(),delete n.instances[e])}))}}})(jQuery,Drupal,Swiper);