"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);i=i.call(e,t||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}!function(s,l,c){var n=function(){function a(e,t){var i=this,e=(_classCallCheck(this,a),this.id="",this.$wrapper=t,this.id=e,t.find(".swiper-pagination")),n=t.find(".swiper-button-next"),o=t.find(".swiper-button-prev"),t=t.find(".swiper-scrollbar"),r={pagination:{},navigation:{},scrollbar:{},on:{init:function(){s(document).trigger("exoComponentSliderInit")}}},e=(e.length&&(r.pagination.el=e.get(0)),n.length&&(r.navigation.nextEl=n.get(0)),o.length&&(r.navigation.prevEl=o.get(0)),t.length&&(r.scrollbar.el=t.get(0)),s.extend(!0,{},r,this.$wrapper.data("ee--slider-settings")||{}));this.swiper=new c(this.$wrapper.get(0),e),void 0!==l.behaviors.exoImagine&&this.swiper.on("slideChange",function(){l.behaviors.exoImagine.render(i.$wrapper)}),this.isLayoutBuilder()&&this.buildForLayoutBuilder()}return _createClass(a,[{key:"buildForLayoutBuilder",value:function(){var n=this;s(document).on("exoComponentOps.exo.alchemist.enhancement.slider."+this.id,function(e,t){l.ExoAlchemistAdmin.getActiveComponent().find(n.$wrapper).length&&((t=s(t)).find(".exo-field-op-rotator-prev").off("click").on("click",function(e){e.preventDefault(),n.swiper.slidePrev()}),t.find(".exo-field-op-rotator-next").off("click").on("click",function(e){e.preventDefault(),n.swiper.slideNext()}))}),s(document).on("exoComponentFieldEditActive.exo.alchemist.enhancement.slider."+this.id,function(e,t){var i=s(t);n.$wrapper.find(i).length&&(n.swiper.slideTo(i.index()),n.swiper.once("slideChangeTransitionEnd",function(){l.ExoAlchemistAdmin.sizeFieldOverlay(i),l.ExoAlchemistAdmin.sizeTarget(i)}))})}},{key:"unload",value:function(){s(document).off("exoComponentOps.exo.alchemist.enhancement.slider."+this.id),s(document).off("exoComponentFieldEditActive.exo.alchemist.enhancement.slider."+this.id),this.swiper.destroy()}},{key:"isLayoutBuilder",value:function(){return l.ExoAlchemistAdmin&&l.ExoAlchemistAdmin.isLayoutBuilder()}}]),a}();l.behaviors.exoAlchemistEnhancementSlider={count:0,instances:{},attach:function(e){var i=this;s(".ee--slider-wrapper",e).once("exo.alchemist.enhancement").each(function(){var e=s(this),t=e.data("ee--slider-id");e.data("ee--slider-count",i.count),i.instances[t+i.count]=new n(t,e),i.count++})},detach:function(e,t,i){var n;"unload"===i&&(n=this,s(".ee--slider-wrapper",e).each(function(){var e=s(this),e=e.data("ee--slider-id")+e.data("ee--slider-count");void 0!==n.instances[e]&&(n.instances[e].unload(),delete n.instances[e])}))}}}(jQuery,Drupal,Swiper);