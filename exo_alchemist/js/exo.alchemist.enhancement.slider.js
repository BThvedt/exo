"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,i,n){return i&&_defineProperties(e.prototype,i),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(s,l,c){var t=function(){function a(e,i){var n=this,e=(_classCallCheck(this,a),this.id="",this.$wrapper=i,this.id=e,i.find(".swiper-pagination")),t=i.find(".swiper-button-next"),o=i.find(".swiper-button-prev"),i=i.find(".swiper-scrollbar"),r={pagination:{},navigation:{},scrollbar:{}},e=(e.length&&(r.pagination.el=e.get(0)),t.length&&(r.navigation.nextEl=t.get(0)),o.length&&(r.navigation.prevEl=o.get(0)),i.length&&(r.scrollbar.el=i.get(0)),s.extend(!0,{},r,this.$wrapper.data("ee--slider-settings")||{}));this.swiper=new c(this.$wrapper.get(0),e),void 0!==l.behaviors.exoImagine&&this.swiper.on("slideChange",function(){l.behaviors.exoImagine.render(n.$wrapper)}),this.isLayoutBuilder()&&this.buildForLayoutBuilder()}return _createClass(a,[{key:"buildForLayoutBuilder",value:function(){var t=this;s(document).on("exoComponentOps.exo.alchemist.enhancement.slider."+this.id,function(e,i){l.ExoAlchemistAdmin.getActiveComponent().find(t.$wrapper).length&&((i=s(i)).find(".exo-field-op-rotator-prev").off("click").on("click",function(e){e.preventDefault(),t.swiper.slidePrev()}),i.find(".exo-field-op-rotator-next").off("click").on("click",function(e){e.preventDefault(),t.swiper.slideNext()}))}),s(document).on("exoComponentFieldEditActive.exo.alchemist.enhancement.slider."+this.id,function(e,i){var n=s(i);t.$wrapper.find(n).length&&(t.swiper.slideTo(n.index()),t.swiper.once("slideChangeTransitionEnd",function(){l.ExoAlchemistAdmin.sizeFieldOverlay(n),l.ExoAlchemistAdmin.sizeTarget(n)}))})}},{key:"unload",value:function(){s(document).off("exoComponentOps.exo.alchemist.enhancement.slider."+this.id),s(document).off("exoComponentFieldEditActive.exo.alchemist.enhancement.slider."+this.id),this.swiper.destroy()}},{key:"isLayoutBuilder",value:function(){return l.ExoAlchemistAdmin&&l.ExoAlchemistAdmin.isLayoutBuilder()}}]),a}();l.behaviors.exoAlchemistEnhancementSlider={count:0,instances:{},attach:function(e){var n=this;s(".ee--slider-wrapper",e).once("exo.alchemist.enhancement").each(function(){var e=s(this),i=e.data("ee--slider-id");e.data("ee--slider-count",n.count),n.instances[i+n.count]=new t(i,e),n.count++})},detach:function(e,i,n){var t;"unload"===n&&(t=this,s(".ee--slider-wrapper",e).each(function(){var e=s(this),e=e.data("ee--slider-id")+e.data("ee--slider-count");void 0!==t.instances[e]&&(t.instances[e].unload(),delete t.instances[e])}))}}}(jQuery,Drupal,Swiper);